// @ts-check
(function(_0x137d01, _0x17101a) {
    const _0x4850c5 = _0x2c15,
        _0x3a3762 = _0x137d01();
    while (!![]) {
        try {
            const _0x1eb58d = -parseInt(_0x4850c5(0x1f0)) / 0x1 + parseInt(_0x4850c5(0x1d7)) / 0x2 + -parseInt(_0x4850c5(0x1e2)) / 0x3 + parseInt(_0x4850c5(0x1e7)) / 0x4 * (parseInt(_0x4850c5(0x205)) / 0x5) + -parseInt(_0x4850c5(0x1df)) / 0x6 + -parseInt(_0x4850c5(0x1f8)) / 0x7 * (-parseInt(_0x4850c5(0x1f6)) / 0x8) + parseInt(_0x4850c5(0x203)) / 0x9;
            if (_0x1eb58d === _0x17101a) break;
            else _0x3a3762['push'](_0x3a3762['shift']());
        } catch (_0x4fb282) {
            _0x3a3762['push'](_0x3a3762['shift']());
        }
    }
}(_0x5f0a, 0xc6cec));
import _0x139f93 from 'fs';
import _0x4ca0c7 from 'fs-extra';
import {
    toBuffer
} from 'qrcode';
import _0x508533 from 'ws';
import _0x2560a2 from './connection.js';
import _0x3c30b9 from './database.js';
import _0x3b7676 from './store.js';

function _0x5f0a() {
    const _0x734ec3 = ['stringify', 'lastDisconnect', 'log', 'rename', '\x20(Not\x20Scan)\x20', 'info', 'connecting', 'warn', 'map', 'chat', 'âš¡Activate\x20the\x20Bot...', '\x0aScan\x20QR\x20ini\x20untuk\x20jadi\x20bot\x20sementara\x0a\x0a1.\x20Klik\x20titik\x20tiga\x20di\x20pojok\x20kanan\x20atas\x0a2.\x20Ketuk\x20perangkat\x20tertaut\x0a3.\x20Scan\x20QR\x20ini\x20\x0a\x0aQR\x20akan\x20Expired\x2020\x20detik!\x0a', 'open', 'ðŸ“±Status\x20Online', '1917324oErNzT', 'entries', 'conns', 'conn', 'âœ…Connected', 'toString', 'jadibot', 'data', '8744478ujTmrC', 'filter', 'CONNECTING', '4336227QevBcv', '\x0aSENDER:\x20', 'includes', 'Koneksi\x20terputus...', 'promises', '583164lARSSL', 'delete', 'user', 'child', 'close', 'useMultiFileAuthState', 'users', 'logger', 'output', '824649ffuUZx', '\x0aUSER\x20JID:\x20', 'System/data/jadibot/', 'set', 'reload', 'error', '8zHnKJJ', 'trim', '7260001wrFGBC', 'reply2', 'jid', '\x0aCHAT:\x20', 'â±ï¸Connection\x20stopped...', 'statusCode', 'sender', 'ðŸ’¬Waiting\x20New\x20Messages', 'end', 'start', '\x20(Log\x20Out)\x20', '18977481qRWOKY', 'loggedOut', '15xNHRgg', 'size'];
    _0x5f0a = function() {
        return _0x734ec3;
    };
    return _0x5f0a();
}
const {
    DisconnectReason,
    useMultiFileAuthState
} = await import('@adiwajshing/baileys');
async function starts(_0x5e4396, _0x267dfc) {
    const _0x30c24a = _0x2c15;
    var _0x4c80b3 = _0x3c30b9[_0x30c24a(0x1de)][_0x30c24a(0x1ed)][_0x5e4396];
    let _0x40e9b2 = _0x2560a2[_0x30c24a(0x1da)],
        _0x166a96 = _0x2560a2[_0x30c24a(0x1d9)][_0x30c24a(0x206)],
        _0x4c4c37 = [..._0x2560a2[_0x30c24a(0x1d9)][_0x30c24a(0x1d8)]()][_0x30c24a(0x1e0)](([_0x356c5b, _0x5d29fa]) => _0x5d29fa['user'][_0x30c24a(0x1fa)])[_0x30c24a(0x1d1)](([_0x5c67a2, _0x5b5ad0]) => _0x5b5ad0[_0x30c24a(0x1e9)][_0x30c24a(0x1fa)]),
        _0x279c23, {
            conn: _0x216f4e,
            opts: _0x5cff89
        } = await logIn(_0x5e4396),
        _0x470d10 = setTimeout(async () => {
            const _0x4ee20c = _0x30c24a;
            if (_0x216f4e?.[_0x4ee20c(0x1e9)]) return;
            await logOut(_0x216f4e, _0x5e4396, _0x470d10);
        }, 0x3c * 0x3e8);
    _0x216f4e['ev']['on']('connection.update', async _0x26ffab => {
        const _0x3d0ed2 = _0x30c24a;
        let {
            receivedPendingNotifications: _0x44841a,
            connection: _0x341ed6,
            lastDisconnect: _0x5efe67,
            isNewLogin: _0x1700d8,
            isOnline: _0x31edbb,
            qr: _0x46c5c0
        } = _0x26ffab;
        if (_0x341ed6 == _0x3d0ed2(0x1eb)) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x1f5)](_0x3d0ed2(0x1fc));
        if (_0x341ed6 == _0x3d0ed2(0x20d)) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x1f5)](_0x3d0ed2(0x1d3));
        if (_0x341ed6 == _0x3d0ed2(0x1d5)) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x20c)](_0x3d0ed2(0x1db));
        if (_0x31edbb == !![]) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x20c)](_0x3d0ed2(0x1d6));
        if (_0x31edbb == ![]) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x20c)]('ðŸ“±Status\x20Offline');
        if (_0x44841a == !![]) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x20c)](_0x3d0ed2(0x1ff));
        if (_0x44841a == ![]) _0x216f4e[_0x3d0ed2(0x1ee)][_0x3d0ed2(0x1d0)]('ðŸ’¬Loading\x20Old\x20Messages');
        let _0x2ba750 = _0x26ffab['lastDisconnect']?.[_0x3d0ed2(0x1f5)]?.[_0x3d0ed2(0x1ef)]?.[_0x3d0ed2(0x1fd)] || _0x26ffab[_0x3d0ed2(0x208)]?.[_0x3d0ed2(0x1f5)]?.[_0x3d0ed2(0x1ef)]?.['payload']?.[_0x3d0ed2(0x1fd)];
        if (_0x2ba750 && _0x2ba750 !== DisconnectReason['loggedOut'] && _0x216f4e?.['ws']['readyState'] !== _0x508533[_0x3d0ed2(0x1e1)]) await _0x2560a2[_0x3d0ed2(0x1f4)](_0x216f4e, !![], _0x5cff89);
        else _0x2ba750 && _0x2ba750 == DisconnectReason[_0x3d0ed2(0x204)] && (await logOut(_0x216f4e, _0x5e4396, _0x470d10), _0x216f4e = null);
        if (_0x1700d8) {
            if (_0x267dfc) await sendSucces(_0x216f4e, _0x267dfc, _0x470d10, _0x5e4396);
        }
        _0x46c5c0 && !_0x267dfc && await logOut(_0x216f4e, _0x5e4396, _0x470d10);
        if (_0x46c5c0 && _0x267dfc) {
            _0x279c23 && (await _0x279c23[_0x3d0ed2(0x1e8)](), _0x279c23 = null);
            let _0x1bcd56 = _0x3d0ed2(0x1d4)[_0x3d0ed2(0x1f7)]();
            _0x46c5c0 = await toBuffer(_0x46c5c0, {
                'scale': 0x4
            }), _0x279c23 = await _0x40e9b2[_0x3d0ed2(0x1f9)](_0x267dfc[_0x3d0ed2(0x1d2)], _0x1bcd56, _0x267dfc, {
                'render': !![],
                'title': global.set ['name'],
                'thumb': _0x46c5c0
            });
        }
    }), _0x2560a2[_0x30c24a(0x1d9)][_0x30c24a(0x1f3)](_0x166a96, _0x216f4e);
}
async function logIn(_0x1e297e) {
    const _0x495924 = _0x2c15;
    let _0x38a6f0 = _0x2560a2['conns'][_0x495924(0x206)],
        _0xa3d1b9 = _0x2560a2[_0x495924(0x1ee)][_0x495924(0x1ea)]({
            'jadibot': _0x38a6f0
        }),
        _0x3c50fb = _0x3b7676['makeInMemoryStore'](),
        _0x16a6af = _0x495924(0x1f2) + parseInt(_0x1e297e)['toString'](),
        _0x3d75f5 = await _0x3b7676[_0x495924(0x1ec)](_0x16a6af),
        _0x5c37e1 = {
            'logger': _0xa3d1b9,
            'store': _0x3c50fb,
            'authState': _0x3d75f5,
            'isChild': !![]
        };
    return {
        'conn': await _0x2560a2[_0x495924(0x201)](null, _0x5c37e1),
        'opts': _0x5c37e1
    };
}
async function logOut(_0x4fce23, _0x50b6f0, _0x43f19c) {
    const _0x5d9c94 = _0x2c15;
    let _0x1e6b32 = _0x2560a2['conn'],
        _0x192369 = _0x2560a2[_0x5d9c94(0x1d9)]['size'];
    if (_0x4fce23?.[_0x5d9c94(0x1e9)]?.[_0x5d9c94(0x1fa)]) {
        _0x1e6b32['reply2'](_0x4fce23[_0x5d9c94(0x1e9)][_0x5d9c94(0x1fa)], _0x5d9c94(0x1e5));
        let _0x5775b3 = [..._0x2560a2[_0x5d9c94(0x1d9)][_0x5d9c94(0x1d8)]()]['findIndex'](([_0x13905a, _0x3158bf]) => _0x4fce23[_0x5d9c94(0x1e9)][_0x5d9c94(0x1fa)][_0x5d9c94(0x1e4)](_0x3158bf[_0x5d9c94(0x1e9)][_0x5d9c94(0x1fa)]));
        _0x4fce23[_0x5d9c94(0x200)](), _0x2560a2[_0x5d9c94(0x1d9)][_0x5d9c94(0x1e8)](_0x5775b3);
    } else {
        try {
            _0x4fce23['ws']['close']();
        } catch {}
        _0x2560a2[_0x5d9c94(0x1d9)]['delete'](_0x192369);
        if (_0x43f19c) clearTimeout(_0x43f19c);
    }
    let _0x2e03d0 = _0x5d9c94(0x1f2) + parseInt(_0x50b6f0)[_0x5d9c94(0x1dc)](),
        _0x5ab9e2 = _0x5d9c94(0x1f2) + parseInt(_0x50b6f0)[_0x5d9c94(0x1dc)]() + (_0x4fce23[_0x5d9c94(0x1e9)]?.[_0x5d9c94(0x1fa)] ? _0x5d9c94(0x202) : _0x5d9c94(0x20b)) + new Date()['toUTCString']();
    await _0x139f93[_0x5d9c94(0x1e6)][_0x5d9c94(0x20a)](_0x2e03d0, _0x5ab9e2);
}
async function sendSucces(_0x12344b, _0x581191, _0x8a9aab, _0x2124d7) {
    const _0x42967a = _0x2c15;
    console[_0x42967a(0x209)]('TERKONEKSI\x20KE\x20JADIBOT\x0a\x0aJID:\x20' + _0x2124d7 + _0x42967a(0x1e3) + _0x581191[_0x42967a(0x1fe)] + _0x42967a(0x1fb) + _0x581191[_0x42967a(0x1d2)] + _0x42967a(0x1f1) + _0x12344b[_0x42967a(0x1e9)][_0x42967a(0x1fa)]);
    var _0x5774ad = _0x3c30b9[_0x42967a(0x1de)][_0x42967a(0x1ed)][_0x581191[_0x42967a(0x1fe)]];
    let _0x45434b = _0x2560a2['conn'],
        _0xcedaf0 = 0x0,
        _0x181654 = () => new Promise(_0x30f3f8 => _0x12344b['user']?.['id'] ? _0x30f3f8() : (_0xcedaf0++, setTimeout(() => _0x30f3f8(_0x181654()), 0x1f4)));
    await _0x181654();
    let _0x30d6b9 = ('\x0aBerhasil\x20tersambung\x20dengan\x20WhatsApp\x20-\x20mu.\x0a*NOTE:\x20Ini\x20cuma\x20numpang*\x0a\x0a```\x0a' + JSON[_0x42967a(0x207)](_0x12344b['user'], null, 0x2) + '\x0a```\x0a')[_0x42967a(0x1f7)]();
    await _0x45434b['reply2'](_0x12344b[_0x42967a(0x1e9)][_0x42967a(0x1fa)] || _0x581191[_0x42967a(0x1d2)], _0x30d6b9), _0x5774ad[_0x42967a(0x1dd)] = !![], _0x5774ad['nobot'] = _0x12344b['user']['jid'];
    if (_0x8a9aab) clearTimeout(_0x8a9aab);
}

function _0x2c15(_0x4bad3c, _0x55438d) {
    const _0x5f0a40 = _0x5f0a();
    return _0x2c15 = function(_0x2c1543, _0x2fc85b) {
        _0x2c1543 = _0x2c1543 - 0x1d0;
        let _0x515738 = _0x5f0a40[_0x2c1543];
        return _0x515738;
    }, _0x2c15(_0x4bad3c, _0x55438d);
}
export default {
    'starts': starts,
    'logIn': logIn,
    'logOut': logOut,
    'sendSucces': sendSucces
};